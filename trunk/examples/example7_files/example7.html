<html>
<head>
<title>Online Image Map Editor - Example 7</title>
<link rel="stylesheet" href="imgmap.css" type="text/css">
<script language="javascript" type="text/javascript" src="AIRIntrospector.js"></script>
<script language="javascript" type="text/javascript" src="AIRAliases.js"></script>
</head>
<body>
<p style="font: bold 12px Verdana; padding: 5px 5px 0 5px">
Example 7 shows how to use the imgmap component in an Adobe AIR application.
</p>
	<form id="img_area_form">
		<fieldset>
			<legend>
				<a onclick="toggleFieldset(this.parentNode.parentNode)">Image map areas</a>
			</legend>
			<div style="border-bottom: solid 1px #efefef">
			<div id="button_container" style="float: left;">
			<!-- buttons come here -->
			</div>
			<div style="float: right; margin: 0 5px">
				<select onchange="changelabeling(this)">
				<option value=''>No labeling</option>
				<option value='%n' selected='1'>Label with numbers</option>
				<option value='%a'>Label with alt text</option>
				<option value='%h'>Label with href</option>
				<option value='%c'>Label with coords</option>
				</select>
			</div>
			<div style="float: right; margin: 0 5px">
				<input type="checkbox" onclick="toggleBoundingBox(this)"/>
				bounding box
			</div>
			</div>
			<div id="form_container" style="clear: both;">
			<!-- form elements come here -->
         	</div>
		</fieldset>
		<fieldset>
			<legend>
				<a onclick="toggleFieldset(this.parentNode.parentNode)">Image</a>
			</legend>
			<div id="pic_container">
			</div>			
		</fieldset>
		<fieldset>
			<legend>
				<a onclick="toggleFieldset(this.parentNode.parentNode)">Status</a>
			</legend>
			<div id="status_container"></div>
		</fieldset>
		<fieldset id="fieldset_html">
			<legend>
				<a onclick="toggleFieldset(this.parentNode.parentNode)">Code</a>
			</legend>
			<div>
			<img src="clipboard.gif" onclick="myimgmap.toClipBoard()" style="float: right; margin: 5px; cursor: pointer;"/>
			This is the generated image map HTML code.
			Click into the textarea below and press Ctrl+C to copy the code to your clipboard. Alternatively you can use the
			clipboard icon on the right. Please note, that you have to attach this code to your image, via the usemap property
			(<a href="http://www.htmlhelp.com/reference/html40/special/map.html">read more</a>). 
			
			<textarea id="html_container"></textarea></div>
		</fieldset>
	</form>

<script type="text/javascript" src="imgmap.js"></script>
<script type="text/javascript">
//instantiate the imgmap component, setting up some basic config values
var myimgmap = new imgmap({
	mode : "editor",
	button_container: document.getElementById('button_container'),
	buttons : ['add','delete','preview','html'],
	custom_callbacks : {
		'onHtml' : function() {htmlShow();}
	},
	pic_container: document.getElementById('pic_container'),
	html_container: document.getElementById('html_container'),
	status_container: document.getElementById('status_container'),
	form_container: document.getElementById('form_container'),
	bounding_box : false
});



function htmlShow() {
	toggleFieldset(document.getElementById('fieldset_html'), 1);
	document.getElementById('html_container').focus();
}

function changelabeling(obj) {
	myimgmap.config.label = obj.value;
	myimgmap._repaintAll();
}

function toggleBoundingBox(obj) {
	//console.log(obj.checked);
	myimgmap.config.bounding_box = obj.checked;
	myimgmap.relaxAllAreas();
}

/**
 *	Toggles fieldset visibility by changing the className.
 *	@date	2006.10.24. 22:13:34
 *	@author	Adam Maschek (maschek@freemail.hu)
 */
function toggleFieldset(fieldset, on) {
	if (fieldset) {
		if (fieldset.className == 'fieldset_off' || on == 1) {
			fieldset.className = '';
		}
		else {
			fieldset.className = 'fieldset_off';
		}
	}
}

</script>
<script type="text/javascript" src="air.js"></script>

</body>
</html>
